(()=>{var e={184:(e,t)=>{var n;!function(){"use strict";var l={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var r=a.apply(null,n);r&&e.push(r)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)l.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},991:e=>{e.exports=function(){return this.lodash}()},514:e=>{e.exports=function(){return this.wp.apiFetch}()},893:e=>{e.exports=function(){return this.wp.components}()},576:e=>{e.exports=function(){return this.wp.compose}()},848:e=>{e.exports=function(){return this.wp.coreData}()},15:e=>{e.exports=function(){return this.wp.data}()},197:e=>{e.exports=function(){return this.wp.editPost}()},353:e=>{e.exports=function(){return this.wp.editSite}()},293:e=>{e.exports=function(){return this.wp.element}()},638:e=>{e.exports=function(){return this.wp.htmlEntities}()},122:e=>{e.exports=function(){return this.wp.i18n}()},19:e=>{e.exports=function(){return this.wp.keycodes}()},703:e=>{e.exports=function(){return this.wp.notices}()},571:e=>{e.exports=function(){return this.wp.plugins}()},776:e=>{e.exports=function(){return this.wp.primitives}()},470:e=>{e.exports=function(){return this.wp.url}()}},t={};function n(l){var a=t[l];if(void 0!==a)return a.exports;var s=t[l]={exports:{}};return e[l](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};(()=>{"use strict";n.r(l);var e=n(293),t=n(197),a=n(353),s=n(571),r=n(776),o=n(991);const i=!(0,o.isUndefined)(wp.primitives)?(0,e.createElement)(r.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(r.Path,{d:"M6 15v-13h10v13h-10zM5 16h8v2h-10v-13h2v11z"})):"admin-page",c=!(0,o.isUndefined)(wp.primitives)?(0,e.createElement)(r.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(r.Path,{d:"M13.89 3.39l2.71 2.72c0.46 0.46 0.42 1.24 0.030 1.64l-8.010 8.020-5.56 1.16 1.16-5.58s7.6-7.63 7.99-8.030c0.39-0.39 1.22-0.39 1.68 0.070zM11.16 6.18l-5.59 5.61 1.11 1.11 5.54-5.65zM8.19 14.41l5.58-5.6-1.070-1.080-5.59 5.6z"})):"edit",u=!(0,o.isUndefined)(wp.primitives)?(0,e.createElement)(r.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(r.Path,{d:"M17 7v3h-5v5h-3v-5h-5v-3h5v-5h3v5h5z"})):"plus",p=!(0,o.isUndefined)(wp.primitives)?(0,e.createElement)(r.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(r.Path,{d:"M5 7v3l-2 1.5v-6.5h11v-2l4 3.010-4 2.99v-2h-9zM15 13v-3l2-1.5v6.5h-11v2l-4-3.010 4-2.99v2h9z"})):"controls-repeat",d=!(0,o.isUndefined)(wp.primitives)?(0,e.createElement)(r.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(r.Path,{d:"M11 7H9.49c-.63 0-1.25.3-1.59.7L7 5H4.13l-2.39 7h1.69l.74-2H7v4H2c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v2zM6.51 9H4.49l1-2.93zM10 8h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2zm7.25 5v-1.08h-3.17V9.75h-1.16v2.17H9.75V13h1.28c.11.85.56 1.85 1.28 2.62-.87.36-1.89.62-2.31.62-.01.02.22.97.2 1.46.84 0 2.21-.5 3.28-1.15 1.09.65 2.48 1.15 3.34 1.15-.02-.49.2-1.44.2-1.46-.43 0-1.49-.27-2.38-.63.7-.77 1.14-1.77 1.25-2.61h1.36zm-3.81 1.93c-.5-.46-.85-1.13-1.01-1.93h2.09c-.17.8-.51 1.47-1 1.93l-.04.03s-.03-.02-.04-.03z"})):"translation",g=!(0,o.isUndefined)(wp.primitives)?(0,e.createElement)(r.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(r.Path,{d:"M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z"})):"trash",h=!(0,o.isUndefined)(wp.primitives)?(0,e.createElement)(r.SVG,{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,e.createElement)(r.Path,{d:"m10 1 3 6 6 .75-4.12 4.62L16 19l-6-3-6 3 1.13-6.63L1 7.75 7 7z"})):"star-filled",m=((0,o.isUndefined)(wp.primitives),t=>{let{sidebar:n,sidebarName:l,onPromise:a,children:r}=t;return a().then((e=>{(0,s.registerPlugin)(l,{icon:d,render:n})}),(e=>{console.info(e)})),(0,e.createElement)(e.Fragment,null,r)});var f=n(15),y=n(470);const _="pll/metabox",E="core/editor",b="core/edit-site",w="core",v={languages:[],selectedLanguage:{},translatedPosts:{},fromPost:null,currentTemplatePart:{}},P=["wp_template","wp_global_styles"],S=["page"];function C(e){const t={};return e.forEach((function(e,t,n){this[t]=(0,o.isBoolean)(e)?e.toString():e}),t),t}function T(){return!(!document.getElementById("site-editor")&&!document.getElementById("edit-site-editor"))}function x(e){return(0,f.select)(_).getLanguages().get(e)}function N(e,t,n){const l=k(t),a=(0,f.select)(_).getFromPost();let s=new Map(Object.entries([]));return(0,o.isUndefined)(e)||(s=new Map(Object.entries(e))),(0,o.isNil)(a)||(0,o.isNil)(a.id)||l.forEach(((e,t)=>{(0,o.isNil)(e.translated_post)||(0,o.isNil)(e.translated_post.id)||s.set(t,e.translated_post.id)})),s}function A(e){let t=new Map(Object.entries([]));return(0,o.isUndefined)(e)||(t=new Map(Object.entries(e))),t}function k(e){let t=new Map(Object.entries([]));return(0,o.isUndefined)(e)||(t=new Map(Object.entries(e))),t}const L=()=>{if((0,o.isNil)((0,f.select)(E)))return Promise.reject("Polylang languages panel can't be initialized because block editor isn't fully initialized.");M();(0,f.select)(_).getCurrentUser();const e=new Promise((function(e){let t=(0,f.subscribe)((function(){const n=(0,f.select)(E).getCurrentPost();(0,o.isEmpty)(n)||(t(),e())}))}));return Promise.all([e,O()]).then((function(){const e=(0,f.select)(_).getFromPost();if(!(0,o.isNil)(e)&&!(0,o.isNil)(e.id)){(0,f.select)(E).getEditedPostAttribute("lang");const e=N((0,f.select)(E).getEditedPostAttribute("translations"),(0,f.select)(E).getEditedPostAttribute("translations_table"));(0,f.dispatch)(E).editPost({translations:C(e)})}}))},D=()=>{M();(0,f.select)(_).getCurrentUser();const e=new Promise((function(e){let t=(0,f.subscribe)((function(){(0,f.select)(b)&&(t(),e())}))}));return Promise.all([e,O()])},O=()=>new Promise((function(e){let t=(0,f.subscribe)((function(){const n=(0,f.select)(_)?.getLanguages();n?.size>0&&(t(),e())}))}));function M(){const e=(0,o.isEmpty)(window.location.search)?null:new URLSearchParams(window.location.search);null!==e&&(0,f.dispatch)(_).setFromPost({id:wp.sanitize.stripTagsAndEncodeText(e.get("from_post")),postType:wp.sanitize.stripTagsAndEncodeText(e.get("post_type")),newLanguage:wp.sanitize.stripTagsAndEncodeText(e.get("new_lang"))})}const U=()=>{const e=(()=>{const e=(0,f.select)(b);if(!e)return null;const t={postId:e.getEditedPostId(),postType:e.getEditedPostType()};if(e.hasOwnProperty("getEditedPostContext")){const n=e.getEditedPostContext();return null!=n&&null!==n.postType&&null!==n.postId?n:t}return t})();return null===e?null:(0,f.select)(w).getEntityRecord("postType",e.postType,e.postId)},R=t=>{let{onPromise:n}=t;const l=(0,e.useRef)({}),a=()=>{var e;const t=U();return null!==(e=x(t?.lang))&&void 0!==e?e:"default"},s=e=>{if(l.current=a(),l?.current.is_default||"default"===l?.current)return;const t=new URL(document.location.href).searchParams,n=new URL(e).searchParams;t.get("postId")!==n.get("postId")&&dispatch(MODULE_CORE_KEY).invalidateResolutionForStore()};return(0,e.useEffect)((()=>{n().then((()=>{l.current=a()})),(e=>{const t=e.pushState,n=e.replaceState;e.pushState=(n,l,a)=>(s(a),t.apply(e,[n,l,a])),e.replaceState=(t,l,a)=>(s(a),n.apply(e,[t,l,a]))})(window.history)}),[]),null};var z=n(122);const F=t=>{let{PluginSidebarSlot:n,sidebarName:l,children:a}=t;return(0,e.createElement)(n,{name:l,title:(0,z.__)("Languages","polylang-pro")},a)},I=t=>{let{PluginSidebarMoreMenuItemSlot:n,sidebarName:l}=t;return(0,e.createElement)(n,{target:l},(0,z.__)("Languages","polylang-pro"))};const B=function(t){let{language:n}=t;return(0,o.isNil)(n)?(0,e.createElement)("span",{className:"pll-translation-icon"},d):(0,o.isEmpty)(n.flag_url)?(0,e.createElement)("abbr",null,n.slug,(0,e.createElement)("span",{className:"screen-reader-text"},n.name)):(0,e.createElement)("span",{className:"pll-select-flag"},(0,e.createElement)("img",{src:n.flag_url,alt:n.name,title:n.name,className:"flag"}))};var V=n(893);const j=()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(V.Icon,{icon:h,className:"pll-defaut-lang-icon"}),(0,e.createElement)("span",{className:"screen-reader-text"},(0,z.__)("Default language.","polylang-pro"))),W=t=>{var n;let{language:l,currentPost:a}=t;const s=(0,f.useSelect)((e=>e(w).getPostType(a.type)),[]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,z.__)("Language","polylang-pro"))),(0,e.createElement)("div",{className:"pll-language-item"},(0,e.createElement)(B,{language:l}),(0,e.createElement)("span",{className:"pll-language-name"},(0,z.__)(l.name,"polylang-pro")),l.is_default&&(0,e.createElement)(j,null)),l.is_default&&(0,e.createElement)("div",null,(0,e.createElement)("span",{className:"pll-metabox-info"},null!==(n="wp_template_part"===s?.slug)&&void 0!==n?n:(0,z.__)("This template part is used for languages that have not yet been translated.","polylang-pro"))))},H=t=>{let{children:n}=t;return(0,e.createElement)("div",{className:"components-panel__body is-opened"},(0,e.createElement)("div",{className:"pll-metabox-location"},n))},$=t=>{let{postType:n}=t;return"wp_template"===n?(0,e.createElement)("div",{className:"pll-metabox-error components-notice is-warning"},(0,z.__)("Templates are not translatable, only template parts are.","polylang-pro")):(0,e.createElement)("div",{className:"pll-metabox-error components-notice is-warning"},(0,z.__)("This entity is not translatable.","polylang-pro"))},G=t=>{let{isError:n,isAllowedPostType:l,postType:a,children:s}=t;return l?n?(0,e.createElement)(H,null,(0,e.createElement)("div",{className:"pll-metabox-error components-notice is-error"},(0,z.__)("Unable to retrieve the content language","polylang-pro"))):(0,e.createElement)(H,null,s):(0,e.createElement)(H,null,(0,e.createElement)($,{postType:a}))},K=t=>{let{children:n}=t;return(0,e.createElement)("td",{className:"pll-edit-column pll-column-icon"},n)},q=t=>{let{isDefault:n}=t;return(0,e.createElement)("td",{className:"pll-default-lang-column pll-column-icon"},n&&(0,e.createElement)(j,null))},Q=t=>{let{children:n}=t;return(0,e.createElement)("td",{className:"pll-delete-column pll-column-icon"},n)},Y=t=>{let{language:n}=t;return(0,e.createElement)("th",{className:"pll-language-column"},(0,o.isEmpty)(n.flag)?(0,e.createElement)("abbr",null,n.slug,(0,e.createElement)("span",{className:"screen-reader-text"},n.name)):(0,e.createElement)("span",{className:"pll-select-flag flag"},(0,e.createElement)("img",{src:n.flag_url,alt:n.name,title:n.name})))},X=t=>{let{children:n}=t;return(0,e.createElement)("td",{className:"pll-sync-column pll-column-icon"},n)},J=t=>{let{children:n}=t;return(0,e.createElement)("td",{className:"pll-translation-column"},n)},Z=t=>{let{language:n,href:l,handleAddClick:a=null}=t;const s=(0,z.sprintf)((0,z.__)("Add a translation in %s","polylang-pro"),n.name);return(0,e.createElement)(V.Button,{href:l,icon:u,label:s,className:"pll-button",onClick:a,"data-target-language":n.slug},(0,e.createElement)("span",{className:"screen-reader-text"},s))},ee=t=>{let{language:n,disabled:l,onClick:a}=t;const s=(0,z.sprintf)((0,z.__)("Delete the translation in %s","polylang-pro"),n.name);return(0,e.createElement)(V.Button,{icon:g,label:s,disabled:l,className:"pll-button",onClick:a},(0,e.createElement)("span",{className:"screen-reader-text"},s))};class te extends e.Component{constructor(){super(...arguments);const e=(0,f.select)(_).getCurrentUser();this.postType=T()?(0,f.select)(b).getEditedPostType():(0,f.select)(E).getCurrentPostType(),this.state={isDuplicateActive:this.isDuplicateActive(e),currentUser:e},this.handleDuplicateContentChange=this.handleDuplicateContentChange.bind(this),this.setState=this.setState.bind(this)}isDuplicateActive(e){return!(0,o.isUndefined)(e.pll_duplicate_content)&&!(0,o.isUndefined)(e.pll_duplicate_content[this.postType])&&e.pll_duplicate_content[this.postType]}handleDuplicateContentChange(e){const t=this.state.currentUser;((0,o.isUndefined)(t.pll_duplicate_content)||(0,o.isString)(t.pll_duplicate_content))&&(t.pll_duplicate_content={}),t.pll_duplicate_content[this.postType]=!this.state.isDuplicateActive,this.setState({currentUser:t,isDuplicateActive:!this.state.isDuplicateActive}),(0,f.dispatch)(_).setCurrentUser({pll_duplicate_content:t.pll_duplicate_content},!0)}render(){const t=this.state.isDuplicateActive,n=this.state.isDuplicateActive?(0,z.__)("Deactivate the content duplication","polylang-pro"):(0,z.__)("Activate the content duplication","polylang-pro");return(0,e.createElement)(V.Button,{id:"pll-duplicate",className:`pll-button ${t&&"wp-ui-text-highlight"}`,onClick:this.handleDuplicateContentChange,icon:i,label:n},(0,e.createElement)("span",{className:"screen-reader-text"},n))}}const ne=te,le=t=>{let{language:n,href:l,handleEditClick:a=null}=t;const s=(0,z.sprintf)((0,z.__)("Edit the translation in %s","polylang-pro"),n.name);return(0,e.createElement)(V.Button,{href:l,icon:c,label:s,className:"pll-button",onClick:a,"data-target-language":n.slug},(0,e.createElement)("span",{className:"screen-reader-text"},s))};var ae=n(576);class se extends e.Component{constructor(){super(...arguments),this.confirmButton=(0,e.createRef)()}componentDidMount(){this.confirmButton.current.focus()}render(){const{idPrefix:t,title:n,updateState:l,handleChange:a,children:s}=this.props;return(0,e.createElement)(V.Modal,{title:n,className:"confirmBox",onRequestClose:l,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,focusOnMount:!1},s,(0,e.createElement)(V.ButtonGroup,{className:"buttons"},(0,e.createElement)(V.Button,{id:`${t}_confirm`,ref:this.confirmButton,isPrimary:!0,onClick:e=>{a(e),l()}},(0,z.__)("OK","polylang-pro")),(0,e.createElement)(V.Button,{id:`${t}_cancel`,isSecondary:!0,onClick:()=>l()},(0,z.__)("Cancel","polylang-pro"))))}}const re=function(t,n,l){return(0,ae.createHigherOrderComponent)((a=>{class s extends e.Component{constructor(){super(...arguments),this.state={isOpen:!1,changeValue:null},this.handleChange=this.handleChange.bind(this)}handleChange(e){let t=a.getChangeValue(e);const n=this.props.currentPost;(0,o.isNil)(n)||(t={templateId:t,currentPost:n}),!(0,o.isUndefined)(a.bypassConfirmation)&&a.bypassConfirmation(this.props.translationData)?l(t):this.setState({isOpen:!0,changeValue:t})}render(){const s=this.props.translationData?.lang.is_default,r=this.props,i=Object.assign({},{...r},{handleChange:this.handleChange});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a,i),this.state.isOpen&&(0,e.createElement)(se,{title:a.labelConfirmationModal,idPrefix:t,handleChange:()=>l(this.state.changeValue),updateState:()=>this.setState({isOpen:!1,changeValue:null})},(0,e.createElement)(n,(0,o.isNil)(s)?{}:{isDefaultLang:s})))}}return s.bypassConfirmation=a.bypassConfirmation,s.getChangeValue=a.getChangeValue,s}),"withConfirmation")};class oe extends e.Component{constructor(){super(...arguments)}static handleSynchronizationChange(e){const t=A((0,f.select)(E).getEditedPostAttribute("pll_sync_post"));t.has(e)?t.delete(e):t.set(e,!0),(0,f.dispatch)(E).editPost({pll_sync_post:C(t)}),(0,f.dispatch)(E).editPost({title:(0,f.select)(E).getEditedPostAttribute("title")})}static bypassConfirmation(e){const t=A((0,f.select)(E).getEditedPostAttribute("pll_sync_post")),n=!(0,o.isEmpty)(t)&&t.has(e.lang.slug),l=!(0,o.isUndefined)(e.translated_post)&&!(0,o.isNil)(e.translated_post.id);return n||!l}static getChangeValue(e){return e.currentTarget.id.match(/\[(.[^[]+)\]/i)[1]}render(){const t=A((0,f.select)(E).getEditedPostAttribute("pll_sync_post")),n=this.props.translationData,l=!(0,o.isEmpty)(t)&&t.has(n.lang.slug),a=l&&"wp-ui-text-highlight",s=l?(0,z.__)("Don't synchronize this post","polylang-pro"):(0,z.__)("Synchronize this post","polylang-pro");return(0,e.createElement)(V.Button,{icon:p,label:s,id:`pll_sync_post[${n.lang.slug}]`,className:`pll-button ${a}`,onClick:e=>{this.props.handleChange(e)}},(0,e.createElement)("span",{className:"screen-reader-text"},s))}}oe.labelConfirmationModal=(0,z.__)("Synchronize this post","polylang-pro");const ie=re("pll_sync_post",(function(){return(0,e.createElement)("p",null,(0,z.__)("You are about to overwrite an existing translation. Are you sure you want to proceed?","polylang-pro"))}),oe.handleSynchronizationChange)(oe);var ce=n(184),ue=n.n(ce);function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function he(e,t){var n=e["page".concat(t?"Y":"X","Offset")],l="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var a=e.document;"number"!=typeof(n=a.documentElement[l])&&(n=a.body[l])}return n}function me(e){return he(e)}function fe(e){return he(e,!0)}function ye(e){var t=function(e){var t,n,l,a=e.ownerDocument,s=a.body,r=a&&a.documentElement;return n=(t=e.getBoundingClientRect()).left,l=t.top,{left:n-=r.clientLeft||s.clientLeft||0,top:l-=r.clientTop||s.clientTop||0}}(e),n=e.ownerDocument,l=n.defaultView||n.parentWindow;return t.left+=me(l),t.top+=fe(l),t}var _e,Ee=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),be=/^(top|right|bottom|left)$/,we="currentStyle",ve="runtimeStyle",Pe="left";function Se(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Ce(e){return"border-box"===_e(e,"boxSizing")}"undefined"!=typeof window&&(_e=window.getComputedStyle?function(e,t,n){var l="",a=e.ownerDocument,s=n||a.defaultView.getComputedStyle(e,null);return s&&(l=s.getPropertyValue(t)||s[t]),l}:function(e,t){var n=e[we]&&e[we][t];if(Ee.test(n)&&!be.test(t)){var l=e.style,a=l[Pe],s=e[ve][Pe];e[ve][Pe]=e[we][Pe],l[Pe]="fontSize"===t?"1em":n||0,n=l.pixelLeft+"px",l[Pe]=a,e[ve][Pe]=s}return""===n?"auto":n});var Te=["margin","border","padding"],xe=-1,Ne=2,Ae=1;function ke(e,t,n){var l,a,s,r=0;for(a=0;a<t.length;a++)if(l=t[a])for(s=0;s<n.length;s++){var o=void 0;o="border"===l?"".concat(l+n[s],"Width"):l+n[s],r+=parseFloat(_e(e,o))||0}return r}function Le(e){return null!=e&&e==e.window}var De={};function Oe(e,t,n){if(Le(e))return"width"===t?De.viewportWidth(e):De.viewportHeight(e);if(9===e.nodeType)return"width"===t?De.docWidth(e):De.docHeight(e);var l="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?e.offsetWidth:e.offsetHeight,s=(_e(e),Ce(e)),r=0;(null==a||a<=0)&&(a=void 0,(null==(r=_e(e,t))||Number(r)<0)&&(r=e.style[t]||0),r=parseFloat(r)||0),void 0===n&&(n=s?Ae:xe);var o=void 0!==a||s,i=a||r;if(n===xe)return o?i-ke(e,["border","padding"],l):r;if(o){var c=n===Ne?-ke(e,["border"],l):ke(e,["margin"],l);return i+(n===Ae?0:c)}return r+ke(e,Te.slice(n),l)}Se(["Width","Height"],(function(e){De["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],De["viewport".concat(e)](n))},De["viewport".concat(e)]=function(t){var n="client".concat(e),l=t.document,a=l.body,s=l.documentElement[n];return"CSS1Compat"===l.compatMode&&s||a&&a[n]||s}}));var Me={position:"absolute",visibility:"hidden",display:"block"};function Ue(e){var t,n=arguments;return 0!==e.offsetWidth?t=Oe.apply(void 0,n):function(e,t,n){var l,a={},s=e.style;for(l in t)t.hasOwnProperty(l)&&(a[l]=s[l],s[l]=t[l]);for(l in n.call(e),t)t.hasOwnProperty(l)&&(s[l]=a[l])}(e,Me,(function(){t=Oe.apply(void 0,n)})),t}function Re(e,t,n){var l=n;if("object"!==pe(t))return void 0!==l?("number"==typeof l&&(l+="px"),void(e.style[t]=l)):_e(e,t);for(var a in t)t.hasOwnProperty(a)&&Re(e,a,t[a])}Se(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);De["outer".concat(t)]=function(t,n){return t&&Ue(t,e,n?0:Ae)};var n="width"===e?["Left","Right"]:["Top","Bottom"];De[e]=function(t,l){if(void 0===l)return t&&Ue(t,e,xe);if(t){_e(t);return Ce(t)&&(l+=ke(t,["padding","border"],n)),Re(t,e,l)}}}));var ze=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return ye(e);!function(e,t){"static"===Re(e,"position")&&(e.style.position="relative");var n,l,a=ye(e),s={};for(l in t)t.hasOwnProperty(l)&&(n=parseFloat(Re(e,l))||0,s[l]=n+t[l]-a[l]);Re(e,s)}(e,t)},isWindow:Le,each:Se,css:Re,clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(e.overflow)for(var l in e)e.hasOwnProperty(l)&&(t.overflow[l]=e.overflow[l]);return t},scrollLeft:function(e,t){if(Le(e)){if(void 0===t)return me(e);window.scrollTo(t,fe(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(Le(e)){if(void 0===t)return fe(e);window.scrollTo(me(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},De);const Fe=function(e,t,n){n=n||{},9===t.nodeType&&(t=ze.getWindow(t));var l=n.allowHorizontalScroll,a=n.onlyScrollIfNeeded,s=n.alignWithTop,r=n.alignWithLeft,o=n.offsetTop||0,i=n.offsetLeft||0,c=n.offsetBottom||0,u=n.offsetRight||0;l=void 0===l||l;var p,d,g,h,m,f,y,_,E,b,w=ze.isWindow(t),v=ze.offset(e),P=ze.outerHeight(e),S=ze.outerWidth(e);w?(y=t,b=ze.height(y),E=ze.width(y),_={left:ze.scrollLeft(y),top:ze.scrollTop(y)},m={left:v.left-_.left-i,top:v.top-_.top-o},f={left:v.left+S-(_.left+E)+u,top:v.top+P-(_.top+b)+c},h=_):(p=ze.offset(t),d=t.clientHeight,g=t.clientWidth,h={left:t.scrollLeft,top:t.scrollTop},m={left:v.left-(p.left+(parseFloat(ze.css(t,"borderLeftWidth"))||0))-i,top:v.top-(p.top+(parseFloat(ze.css(t,"borderTopWidth"))||0))-o},f={left:v.left+S-(p.left+g+(parseFloat(ze.css(t,"borderRightWidth"))||0))+u,top:v.top+P-(p.top+d+(parseFloat(ze.css(t,"borderBottomWidth"))||0))+c}),m.top<0||f.top>0?!0===s?ze.scrollTop(t,h.top+m.top):!1===s?ze.scrollTop(t,h.top+f.top):m.top<0?ze.scrollTop(t,h.top+m.top):ze.scrollTop(t,h.top+f.top):a||((s=void 0===s||!!s)?ze.scrollTop(t,h.top+m.top):ze.scrollTop(t,h.top+f.top)),l&&(m.left<0||f.left>0?!0===r?ze.scrollLeft(t,h.left+m.left):!1===r?ze.scrollLeft(t,h.left+f.left):m.left<0?ze.scrollLeft(t,h.left+m.left):ze.scrollLeft(t,h.left+f.left):a||((r=void 0===r||!!r)?ze.scrollLeft(t,h.left+m.left):ze.scrollLeft(t,h.left+f.left)))};var Ie=n(638),Be=n(19),Ve=n(514),je=n.n(Ve);const We=e=>{let{value:t,post:n=null,translatedPosts:l,translationData:a,language:s}=e;(0,o.isEmpty)(n)?(a.translated_post={id:null,title:t},a.links={add_link:a.links.add_link},l.delete(s.slug)):(l.set(s.slug,n.id),a.translated_post={id:n.id,title:n.title.rendered},a.block_editor={edit_link:n.block_editor.edit_link},a.caps=n.caps),(0,f.dispatch)(E).editPost({translations:C(l)}),(0,f.dispatch)(E).editPost({title:(0,f.select)(E).getEditedPostAttribute("title")})},He=e=>e.stopPropagation();class $e extends e.Component{constructor(){super(...arguments),this.onChange=this.onChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.bindListNode=this.bindListNode.bind(this),this.updateSuggestions=(0,o.debounce)(this.updateSuggestions.bind(this),500),this.suggestionNodes=[],this.state={posts:[],showSuggestions:!1,selectedSuggestion:null}}componentDidUpdate(){const{showSuggestions:e,selectedSuggestion:t}=this.state;e&&null!==t&&!this.scrollingIntoView&&(this.scrollingIntoView=!0,Fe(this.suggestionNodes[t],this.listNode,{onlyScrollIfNeeded:!0}),setTimeout((()=>{this.scrollingIntoView=!1}),100))}componentWillUnmount(){delete this.suggestionsRequest}bindListNode(e){this.listNode=e}bindSuggestionNode(e){return t=>{this.suggestionNodes[e]=t}}updateSuggestions(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.length<2&&!t)return void this.setState({showSuggestions:!1,selectedSuggestion:null,loading:!1});this.setState({selectedSuggestion:null,loading:!0});const n=(0,f.select)(E).getCurrentPostId(),l=(0,f.select)(E).getCurrentPostType(),a=(0,f.select)(E).getEditedPostAttribute("lang"),s=this.props.translationData.lang.slug,r=je()({path:(0,y.addQueryArgs)("/pll/v1/untranslated-posts",{search:e,include:n,untranslated_in:a,lang:s,type:l,context:"edit"})});r.then((e=>{this.suggestionsRequest===r&&(this.setState({posts:e,showSuggestions:!0,loading:!1}),e.length?this.props.debouncedSpeak((0,z.sprintf)((0,z._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",e.length,"polylang-pro"),e.length),"assertive"):this.props.debouncedSpeak((0,z.__)("No results.","polylang-pro"),"assertive"))})).catch((()=>{this.suggestionsRequest===r&&this.setState({loading:!1})})),this.suggestionsRequest=r}onChange(e){const t=e.target.value,n=this.props.translatedPosts,l=this.props.translationData,a=this.props.translationData.lang;We({value:t,translatedPosts:n,translationData:l,language:a}),this.updateSuggestions(t)}onKeyDown(e){const{showSuggestions:t,selectedSuggestion:n,posts:l,loading:a}=this.state;let s=e.target.value,r=!1;if(t&&l.length&&!a)switch(e.keyCode){case Be.UP:{e.stopPropagation(),e.preventDefault();const t=n?n-1:l.length-1;this.setState({selectedSuggestion:t});break}case Be.DOWN:{e.stopPropagation(),e.preventDefault();const t=null===n||n===l.length-1?0:n+1;this.setState({selectedSuggestion:t});break}case Be.ENTER:if(null!==this.state.selectedSuggestion){e.stopPropagation();const t=this.state.posts[this.state.selectedSuggestion];this.selectLink(t)}break;case Be.ESCAPE:e.stopPropagation(),this.setState({selectedSuggestion:null,showSuggestions:!1})}else{switch(e.keyCode){case Be.SPACE:const{ctrlKey:t,shiftKey:n,altKey:l,metaKey:a}=e;t&&!(n||l||a)&&(s="",r=!0);break;case Be.BACKSPACE:(0,o.isEmpty)(s)&&(r=!0)}r&&this.updateSuggestions(s,!0)}}selectLink(e){const t=this.props.translationData,n=this.props.translatedPosts,l=this.props.translationData.lang;We({value:e.title.rendered,post:e,translatedPosts:n,translationData:t,language:l}),this.setState({selectedSuggestion:null,showSuggestions:!1})}render(){const{value:t="",autoFocus:n=!0,instanceId:l,translationData:a}=this.props,s=a.lang,{showSuggestions:r,posts:o,selectedSuggestion:i,loading:c}=this.state,u=a.caps.edit||a.caps.add;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("label",{className:"screen-reader-text",htmlFor:`tr_lang_${a.lang.slug}`},(0,z.__)("Translation","polylang-pro")),(0,e.createElement)("div",{className:"translation-input"},(0,e.createElement)("input",{lang:s.w3c,dir:s.is_rtl?"rtl":"ltr",style:{direction:s.is_rtl?"rtl":"ltr"},autoFocus:n,disabled:!u,type:"text","aria-label":(0,z.__)("URL","polylang-pro"),required:!0,value:t,onChange:this.onChange,onInput:He,placeholder:(0,z.__)("Start typing the post title","polylang-pro"),onKeyDown:this.onKeyDown,role:"combobox","aria-expanded":r,"aria-autocomplete":"list","aria-owns":`translation-input-suggestions-${l}`,"aria-activedescendant":null!==i?`translation-input-suggestion-${l}-${i}`:void 0}),c&&(0,e.createElement)(V.Spinner,null)),r&&!!o.length&&(0,e.createElement)(V.Popover,{position:"bottom",noArrow:!0,focusOnMount:!1},(0,e.createElement)("div",{className:"translation-input__suggestions",id:`translation-input-suggestions-${l}`,ref:this.bindListNode,role:"listbox"},o.map(((t,n)=>(0,e.createElement)("button",{key:t.id,role:"option",tabIndex:"-1",id:`translation-input-suggestion-${l}-${n}`,ref:this.bindSuggestionNode(n),className:ue()("translation-input__suggestion",{"is-selected":n===i}),onClick:()=>this.selectLink(t),"aria-selected":n===i},(0,Ie.decodeEntities)(t.title.rendered)||(0,z.__)("(no title)","polylang-pro")))))))}}const Ge=(0,V.withSpokenMessages)((0,ae.withInstanceId)($e)),Ke=t=>{let{language:n,children:l}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Y,{language:n}),l)},qe=t=>{let{selectedLanguage:n,translationsTable:l}=t;const a=N((0,f.select)(E).getEditedPostAttribute("translations"),l,n.slug);return Array.from(l.values()).map((t=>{if(n.slug===t.lang.slug)return;const l=null!=t.translated_post?.id,s=t.caps.edit,r=t.caps.add;return(0,e.createElement)("tr",{key:t.lang.slug},(0,e.createElement)(Ke,{language:t.lang},(0,e.createElement)(K,null,l&&s?(0,e.createElement)(le,{href:decodeURI(t.block_editor.edit_link),language:t.lang}):r?(0,e.createElement)(Z,{href:decodeURI(t.links.add_link),language:t.lang}):null),(0,e.createElement)(X,null,t.can_synchronize&&(0,e.createElement)(ie,{translationData:t})),(0,e.createElement)(J,null,(0,e.createElement)(Ge,{id:`htr_lang_${t.lang.slug}`,autoFocus:!1,translatedPosts:a,translationData:t,value:void 0!==t.translated_post?.title?t.translated_post?.title:""}))))}))},Qe=t=>{let{isDefaultLang:n}=t;return(0,e.createElement)(e.Fragment,null,n?(0,e.createElement)("p",null,(0,z.__)("You are about to delete an entity in the default language.","polylang-pro"),(0,e.createElement)("br",null),(0,z.__)("This will delete its customizations and all its corresponding translations.","polylang-pro")):null,(0,e.createElement)("p",null,(0,z.__)("Are you sure you want to delete this translation?","polylang-pro")))};var Ye=n(848),Xe=n(703);const Je=()=>{const{deleteEntityRecord:e}=(0,f.useDispatch)(Ye.store),{createSuccessNotice:t,createErrorNotice:n}=(0,f.useDispatch)(Xe.store);return{handleDelete:async(l,a)=>{try{const n=!S.includes(a);await e("postType",a,l,{force:n},{throwOnError:!0}),t((0,z.__)("The translation has been deleted.","polylang-pro"),{type:"snackbar"})}catch(e){n((0,z.sprintf)((0,z.__)("Unable to delete the translation. %s","polylang-pro"),e?.message),{type:"snackbar"})}}}},Ze=(e,t)=>{if(!e.is_default||"page"===t)return;const n=window.location.origin+wp.sanitize.stripTags(window.location.pathname),l={};switch(t){case"wp_navigation":l.path="/navigation";break;case"wp_block":l.path="/patterns",l.categoryType=t;break;case"wp_template_part":l.path="/"+t+"/all"}location.href=(0,y.addQueryArgs)(n,l)},et=t=>{let{translationData:n,postType:l,onDeleteSuccess:a}=t;const[s,r]=(0,e.useState)(!1),o=()=>r(!1),i=null!=n.translated_post?.id,c=n.caps.delete,{handleDelete:u}=Je();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(ee,{onClick:()=>r(!0),language:n.lang,disabled:!i||!c}),s&&(0,e.createElement)(V.Modal,{title:"Delete",onRequestClose:o},(0,e.createElement)(Qe,{isDefaultLang:n.lang.is_default&&"page"!==l}),(0,e.createElement)("div",{role:"group",className:"components-button-group buttons"},(0,e.createElement)(V.Button,{variant:"tertiary",onClick:o,type:"button"},(0,z.__)("Cancel","polylang-pro")),(0,e.createElement)("span",null,"Â "),(0,e.createElement)(V.Button,{variant:"primary",onClick:()=>{const e="wp_template_part"===l&&void 0!==n.template?n.template.id:n.translated_post.id;u(e,l).then((()=>a())),o(),Ze(n.lang,l)},type:"submit"},(0,z.__)("Delete","polylang-pro")))))},tt=()=>{const{saveEntityRecord:e}=(0,f.useDispatch)(Ye.store),{createSuccessNotice:t,createErrorNotice:n}=(0,f.useDispatch)(Xe.store);return{handleCreateTranslation:async(l,a)=>{const s={title:a.title.raw,content:a.content.raw,lang:l,from_post:a.id,translations:a.translations,status:a.status};if("wp_template_part"===a.type){const e=function(){let e="[a-z_-]+";const t=(0,f.select)(_).getLanguages(),n=Array.from(t.keys());return(0,o.isEmpty)(n)||(e=n.join("|")),new RegExp(`___(?:${e})$`)}(),t=a.slug.replace(e,""),n={[a.lang]:a.wp_id};s.slug=t,s.area=a.area,s.from_post=a.wp_id,s.translations=n}try{const n=await e("postType",a.type,s,{throwOnError:!0});t((0,z.__)("The translation is created, you will be redirected.","polylang-pro"),{type:"snackbar"});const r=n.translations_table[l]?.site_editor.edit_link;void 0!==r&&(location.href=r)}catch(e){const t=e.message&&"unknown_error"!==e.code?e.message:(0,z.__)("An error occurred while creating the translation.","polylang-pro");n(t,{type:"snackbar"})}}}},nt=t=>{let{translationsTable:n,currentPost:l,translationsTabeDispatch:a}=t;const{handleCreateTranslation:s}=tt();return Array.from(n.values()).map((t=>{if(l?.lang===t.lang.slug)return;const n=null!=t.translated_post?.id,r=t.caps.edit,o="wp_template_part"===l.type&&!l.wp_id||t.caps.add;return(0,e.createElement)("tr",{key:t.lang.slug},(0,e.createElement)(Ke,{language:t.lang},(0,e.createElement)(J,null,(0,e.createElement)("span",{className:"pll-translation-language"},t.lang.name)),(0,e.createElement)(K,null,(()=>{if(n&&r)return(0,e.createElement)(le,{href:decodeURI(t.site_editor.edit_link),language:t.lang});if(o){const n=()=>{s(t.lang.slug,l)};return(0,e.createElement)(Z,{href:"#",language:t.lang,handleAddClick:n})}return null})()),(0,e.createElement)(Q,null,(0,e.createElement)(et,{translationData:t,postType:l.type,onDeleteSuccess:function(){a({type:"remove_translation",lang:t.lang.slug})}})),(0,e.createElement)(q,{isDefault:t.lang.is_default})))}))},lt=t=>{let{children:n}=t;return(0,e.createElement)("div",{id:"post-translations",className:"translations"},(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,z.__)("Translations","polylang-pro"))),(0,e.createElement)("table",null,(0,e.createElement)("tbody",null,n)))},at=(e,t)=>{switch(t.type){case"remove_translation":return delete e.get(t.lang).translated_post,new Map(e);case"set_table":return t.table;default:return e}},st=()=>{const[t,n]=(0,e.useReducer)(at,new Map),[l,a]=(0,e.useState)({}),[s,r]=(0,e.useState)({}),[o,i]=(0,e.useState)("");return(0,e.useEffect)((()=>{let e;if("/wp_global_styles"===wp.sanitize.stripTagsAndEncodeText((0,y.getQueryArg)(window.location.href,"path"))&&(e="wp_global_styles"),"wp_template"===wp.sanitize.stripTagsAndEncodeText((0,y.getQueryArg)(window.location.href,"postType"))&&(e="wp_template"),e)return void i(e);const t=U();a(t),i(t?.type);const l=x(t?.lang);r(l),n({type:"set_table",table:k(t?.translations_table)})}),[a,i,r,n]),(0,e.createElement)(G,{isError:!s,isAllowedPostType:!P.includes(o),postType:o},(0,e.createElement)(W,{language:s,currentPost:l}),(0,e.createElement)(lt,null,(0,e.createElement)(nt,{translationsTable:t,currentPost:l,translationsTabeDispatch:n})))};function rt(t){let{handleChange:n,children:l,selectedLanguage:a=null,defaultValue:s=""}=t;const r=a?.slug?a.slug:s;return(0,e.createElement)("div",{id:"select-post-language"},(0,e.createElement)(B,{language:a}),l&&(0,e.createElement)("select",{value:r,onChange:e=>n(e),id:"pll_post_lang_choice",name:"pll_post_lang_choice",className:"post_lang_choice"},l))}function ot(t){let{languages:n}=t;return Array.from(n.values()).map((t=>{let{slug:n,name:l,w3c:a}=t;return(0,e.createElement)("option",{value:n,lang:a,key:n},l)}))}class it extends e.Component{static bypassConfirmation(){const e=(0,f.select)(E);return!e.getEditedPostAttribute("title")?.trim()&&!e.getEditedPostContent()&&!e.getEditedPostAttribute("excerpt")?.trim()}static getChangeValue(e){return e.target.value}static handleLanguageChange(e){const t=(0,f.select)(E).getEditedPostAttribute("lang"),n=(0,f.select)(E).getCurrentPostId(),l=(0,f.select)(_).getLanguages().get(e),a=x(t),s=A((0,f.select)(E).getEditedPostAttribute("pll_sync_post")),r=(0,f.select)(E).getEditedPostAttribute("translations_table"),o=N((0,f.select)(E).getEditedPostAttribute("translations"),r,a.slug),i=k(r,a.slug);o.delete(a.slug),o.set(l.slug,n),s.delete(a.slug);const c=i.get(a.slug);i.set(a.slug,{can_synchronize:c.can_synchronize,lang:c.lang,links:{add_link:c.links.add_link},caps:c.caps,site_editor:c.site_editor,block_editor:c.block_editor});const u=i.get(l.slug);i.set(l.slug,{can_synchronize:u.can_synchronize,lang:u.lang,links:u.links,translated_post:c.translated_post,caps:u.caps,site_editor:u.site_editor,block_editor:u.block_editor}),pll_block_editor_plugin_settings.lang=l;const p={lang:l.slug,pll_sync_post:C(s),translations:C(o),translations_table:C(i)};(0,f.dispatch)(E).editPost(p),(0,f.dispatch)(E).savePost(),it.forceLanguageSave(l.slug),(0,f.dispatch)(w).invalidateResolutionForStore()}static forceLanguageSave(e){const t=(0,f.select)(E);t.getEditedPostAttribute("title")||t.getEditedPostContent()||t.getEditedPostAttribute("excerpt")||je()({path:(0,y.addQueryArgs)(`wp/v2/posts/${t.getCurrentPostId()}`,{lang:e}),method:"POST"})}render(){const t=(0,f.select)(_).getLanguages(),n=x((0,f.select)(E).getEditedPostAttribute("lang"));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,z.__)("Language","polylang-pro"))),(0,e.createElement)("label",{className:"screen-reader-text",htmlFor:"pll_post_lang_choice"},(0,z.__)("Language","polylang-pro")),(0,e.createElement)(rt,{selectedLanguage:n,handleChange:this.props.handleChange},(0,e.createElement)(ot,{languages:t})))}}it.labelConfirmationModal=(0,z.__)("Change language","polylang-pro");const ct=re("pll_change_lang",(function(){return(0,e.createElement)("p",null,(0,z.__)("Are you sure you want to change the language of the current content?","polylang-pro"))}),it.handleLanguageChange)(it),ut=()=>{const{currentPost:t,selectedLanguage:n,translationsTable:l,isAllowedPostType:a}=(0,f.useSelect)((e=>{const t=e(E).getCurrentPost(),n=e(E).getEditedPostAttribute("lang"),l=e(E).getEditedPostAttribute("translations_table"),a=!P.includes(t?.type);return{currentPost:t,selectedLanguage:x(n),translationsTable:k(l),isAllowedPostType:a}}),[]);return(0,e.createElement)(G,{isError:!n,isAllowedPostType:a,postType:t?.type},(0,e.createElement)(ct,{selectedLanguage:n}),(0,e.createElement)(ne,null),(0,e.createElement)(lt,null,(0,e.createElement)(qe,{translationsTable:l,selectedLanguage:n})))},pt={setLanguages:e=>({type:"SET_LANGUAGES",languages:e}),setCurrentUser(e){return{type:"SET_CURRENT_USER",currentUser:e,save:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},setFromPost:e=>({type:"SET_FROM_POST",fromPost:e}),fetchFromAPI:e=>({type:"FETCH_FROM_API",options:e})},dt=(0,f.createReduxStore)(_,{reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LANGUAGES":return{...e,languages:t.languages};case"SET_CURRENT_USER":return t.save&&(n=t.currentUser,je()({path:"/wp/v2/users/me",data:n,method:"POST"})),{...e,currentUser:t.currentUser};case"SET_FROM_POST":return{...e,fromPost:t.fromPost};case"SET_CURRENT_TEMPLATE_PART":return{...e,currentTemplatePart:t.currentTemplatePart};default:return e}var n},selectors:{getLanguages:e=>e.languages,getCurrentUser:e=>e.currentUser,getFromPost:e=>e.fromPost},actions:pt,controls:{FETCH_FROM_API:e=>je()({...e.options})},resolvers:{*getLanguages(){const e=yield pt.fetchFromAPI({path:"/pll/v1/languages",filterLang:!1});return pt.setLanguages(function(e,t){const n=new Map;return e.reduce((function(e,n){return e.set(n[t],n),e}),n),n}(e,"slug"))},*getCurrentUser(){const e=yield pt.fetchFromAPI({path:"/wp/v2/users/me",filterLang:!0});return pt.setCurrentUser(e)}}});(0,f.register)(dt);const gt=document.createElement("div");gt.id="pll-root";const ht=document.body.appendChild(gt),mt="polylang-sidebar",ft=(t,n)=>{e.createRoot?(0,e.createRoot)(n).render(t):(0,e.render)(t,n)};if(T()){const t=()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(F,{PluginSidebarSlot:a.PluginSidebar,sidebarName:mt},(0,e.createElement)(st,null)),(0,e.createElement)(I,{PluginSidebarMoreMenuItemSlot:a.PluginSidebarMoreMenuItem,sidebarName:mt}));ft((0,e.createElement)(m,{sidebar:t,sidebarName:mt,onPromise:D},(0,e.createElement)(R,{onPromise:D})),ht)}else{const n=()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(F,{PluginSidebarSlot:t.PluginSidebar,sidebarName:mt},(0,e.createElement)(ut,null)),(0,e.createElement)(I,{PluginSidebarMoreMenuItemSlot:t.PluginSidebarMoreMenuItem,sidebarName:mt}));ft((0,e.createElement)(m,{sidebar:n,sidebarName:mt,onPromise:L}),ht)}})(),this["polylang-pro"]=l})();